<app-pending *ngIf="isPending"></app-pending>
<app-nav-list 
[title]="navTitle?.title" 
[subtitle]="navTitle?.subtitle" 
[dateRange]="dateRange" 
(onCreate)="createNew()"
(onRefresh)="initData(dateRange)"
(onSearch)="searchFilter($event)"
(onDateRange)="getDataByRange($event)" ></app-nav-list>


<button mat-button (click)="genCsv()">Generuj raport (CSV)</button>

    <table mat-table [dataSource]="dataSource" matSort fxFill>
            <ng-container matColumnDef="transportOfferId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>>
                <td mat-cell *matCellDef="let row">
                    <button mat-mini-fab (click)="edit(row.transportOfferId)" matTooltip="Edytuj ID: {{row.transportOfferId}} " [matTooltipPosition]="'right'">
                        <mat-icon>edit</mat-icon>
                    </button>
                </td>
            </ng-container>
            <ng-container matColumnDef="statusCode">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>StatusCode</th>>
                <td mat-cell *matCellDef="let row"> {{row.statusCode}}</td>
            </ng-container>
        
            <ng-container matColumnDef="documentNo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Numer zlecenia</th>>
                <td mat-cell *matCellDef="let row"> {{row.documentNo}}</td>
            </ng-container>

            <ng-container matColumnDef="fracht">

                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fracht</th>>
                <td mat-cell *matCellDef="let row"> {{row.fracht}} {{row.currency}}</td>
            </ng-container>

            <ng-container matColumnDef="seller">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Kontrahent</th>>
                <td mat-cell *matCellDef="let row"> {{row.seller}}</td>
            </ng-container>

            <ng-container matColumnDef="driver">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Kierowca</th>>
                <td mat-cell *matCellDef="let row"> {{row.driver}}</td>
            </ng-container>

            <ng-container matColumnDef="loadDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Data załadunku</th>>
                <td mat-cell *matCellDef="let row"> {{row.loadDate}}</td>
            </ng-container>

            <ng-container matColumnDef="loadPlace">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Miejscowość</th>>
                <td mat-cell *matCellDef="let row"> {{row.loadPlace}}</td>
            </ng-container>

            <ng-container matColumnDef="loadPostalCode">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Kod</th>>
                <td mat-cell *matCellDef="let row"> {{row.loadPostalCode}}</td>
            </ng-container>



            <ng-container matColumnDef="unloadDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Data rozładunku</th>>
                <td mat-cell *matCellDef="let row"> {{row.unloadDate}}</td>
            </ng-container>

            <ng-container matColumnDef="unloadPlace">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Miejscowość</th>>
                <td mat-cell *matCellDef="let row"> {{row.unloadPlace}}</td>
            </ng-container>

            <ng-container matColumnDef="unloadPostalCode">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Kod</th>>
                <td mat-cell *matCellDef="let row"> {{row.unloadPostalCode}}</td>
            </ng-container>
        
      
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator #paginator showFirstLastButtons></mat-paginator>

